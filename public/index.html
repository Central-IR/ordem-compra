<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ordem de Compra - I.R. Com√©rcio</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <!-- Indicador de Conex√£o -->
    <div class="connection-status offline" id="connectionStatus">
        <span id="statusText">Offline</span>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <h1>üì¶ Ordem de Compra</h1>
            <button onclick="openFormModal()" class="register-btn">
                ‚ûï Registrar Ordem
            </button>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container">
        <!-- Navega√ß√£o de M√™s -->
        <div class="month-navigation">
            <button onclick="changeMonth(-1)" class="month-btn">‚óÄ Anterior</button>
            <h2 id="currentMonth">Dezembro 2025</h2>
            <button onclick="changeMonth(1)" class="month-btn">Pr√≥ximo ‚ñ∂</button>
        </div>

        <!-- Dashboard Cards -->
        <div class="dashboard">
            <div class="card">
                <h3>Total de Ordens</h3>
                <p class="card-number" id="totalOrdens">0</p>
            </div>
            <div class="card success-card">
                <h3>Ordens Fechadas</h3>
                <p class="card-number" id="totalFechadas">0</p>
            </div>
            <div class="card warning-card" id="cardAbertas">
                <h3>Ordens Abertas</h3>
                <p class="card-number" id="totalAbertas">0</p>
            </div>
        </div>

        <!-- Filtros -->
        <div class="filters">
            <input 
                type="text" 
                id="search" 
                placeholder="üîç Pesquisar por n√∫mero, fornecedor ou respons√°vel..." 
                oninput="filterOrdens()"
                class="search-input"
            >
            
            <select id="filterResponsavel" onchange="filterOrdens()" class="filter-select">
                <option value="">Todos os Respons√°veis</option>
            </select>
            
            <select id="filterStatus" onchange="filterOrdens()" class="filter-select">
                <option value="">Todos os Status</option>
                <option value="aberta">Abertas</option>
                <option value="fechada">Fechadas</option>
            </select>
            
            <button onclick="clearFilters()" class="clear-filters-btn">üóëÔ∏è Limpar Filtros</button>
        </div>

        <!-- Tabela de Ordens -->
        <div class="table-wrapper">
            <table class="orders-table">
                <thead>
                    <tr>
                        <th style="width: 50px; text-align: center;">‚úì</th>
                        <th>N¬∫ Ordem</th>
                        <th>Respons√°vel</th>
                        <th>Fornecedor</th>
                        <th>Data</th>
                        <th>Valor Total</th>
                        <th>Status</th>
                        <th style="min-width: 280px;">A√ß√µes</th>
                    </tr>
                </thead>
                <tbody id="ordensContainer">
                    <tr>
                        <td colspan="8" style="text-align: center; padding: 2rem;">
                            Nenhuma ordem encontrada
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Modal de Visualiza√ß√£o -->
    <div class="modal-overlay" id="infoModal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h3 class="modal-title">Ordem N¬∫ <span id="modalNumero"></span></h3>
                <button onclick="closeInfoModal()" class="close-modal">‚úï</button>
            </div>
            
            <div class="tabs-container">
                <div class="tabs-nav">
                    <button class="tab-btn active" onclick="switchInfoTab('info-tab-geral')">Geral</button>
                    <button class="tab-btn" onclick="switchInfoTab('info-tab-fornecedor')">Fornecedor</button>
                    <button class="tab-btn" onclick="switchInfoTab('info-tab-pedido')">Pedido</button>
                    <button class="tab-btn" onclick="switchInfoTab('info-tab-entrega')">Entrega</button>
                    <button class="tab-btn" onclick="switchInfoTab('info-tab-pagamento')">Pagamento</button>
                </div>

                <div class="tab-content active" id="info-tab-geral"></div>
                <div class="tab-content" id="info-tab-fornecedor"></div>
                <div class="tab-content" id="info-tab-pedido"></div>
                <div class="tab-content" id="info-tab-entrega"></div>
                <div class="tab-content" id="info-tab-pagamento"></div>
            </div>

            <div class="modal-actions">
                <button onclick="generatePDF()" class="success">üìÑ Gerar PDF</button>
                <button onclick="closeInfoModal()" class="secondary">Fechar</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
